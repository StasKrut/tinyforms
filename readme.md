# Tinyforms
Web-приложение для определения заполненных форм
## Описание задачи
В базе данных хранится список шаблонов форм.
Шаблон формы, это структура, которая задается уникальным набором полей, с указанием их типов.
Пример шаблона формы:
```json
{
    "name": "Form template name",
    "field_name_1": "email",
    "field_name_2": "phone"
}
```
Всего должно поддерживаться четыре типа данных полей: 
- email
- телефон
- дата
- текст

Все типы кроме текста должны поддерживать валидацию. Телефон передается в стандартном формате +7 xxx xxx xx xx, дата передается в формате DD.MM.YYYY или YYYY-MM-DD.

В ответ на запрос нужно вернуть имя шаблона формы, если она была найдена.
Чтобы найти подходящий шаблон нужно выбрать тот, поля которого совпали с полями в присланной форме. Совпадающими считаются поля, у которых совпали имя и тип значения. Полей в пришедшей форме может быть больше чем в шаблоне, в этом случае шаблон все равно будет считаться подходящим. Самое главное, чтобы все поля шаблона присутствовали в форме.

Если подходящей формы не нашлось, вернуть ответ в следующем формате
```json
{
    f_name1: FIELD_TYPE,
    f_name2: FIELD_TYPE
}
```

где FIELD_TYPE это тип поля, выбранный на основе правил валидации, проверка правил должна производиться в следующем порядке дата, телефон, email, текст.


## Запуск приложения
### Клонирование и настройка проекта

#### HTTPS
```bash
git clone https://github.com/StasKrut/tinyforms.git
```

#### SSH
```bash
git clone git@github.com:StasKrut/tinyforms.git
```

### Локальный запуск сервера

#### Переход в директорию, установка пакетов

```bash
cd tinyforms
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip -r requirements.txt
```

#### Заполнение базы, запуск проекта

```bash
python create_db.py
python run.py
```
### Тестовые запросы

#### Через скрипт
```bash
python test_requests.py
```
#### HTTP запрос
##### Примечание  
Пробелы и плюсы в телефонном номере необходимо кодировать 
```
POST /get_form?
      field_name_1=email@example.com&
      field_name_2=%2B7%20999%20888%2033%2044
Host: localhost:5000
```